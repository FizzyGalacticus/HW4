%!
%Dustin Dodson
%Software Construction
%Homework #4

%% Draws a one square inch box and inch in from the bottom left

/inch {72 mul} def      % Convert inches->points (1/72 inch)

newpath                 % Start a new path
1 inch 1 inch moveto    % an inch in from the lower left
2 inch 1 inch lineto    % bottom side
2 inch 2 inch lineto    % right side
1 inch 2 inch lineto    % top side
stroke                  % Draw the box on the paper
showpage                % We're done... eject the page

% Example of rotation... draws 36 lines in a circular pattern

/len {72} def

0 10 360 {              % Go from 0 to 360 degrees in 10 degree steps
  newpath               % Start a new path

  gsave                 % Keep rotations temporary
    144 144 moveto
    rotate              % Rotate by degrees on stack from 'for'
    72 len rlineto
    stroke
  grestore              % Get back the unrotated state
  
  /len len 3 add def

} for                   % Iterate over angles

showpage

% Draw a box at 72, 72 using translate

% operator box: xcoord ycoord box -
% Creates one inch box at xcoord, ycoord
/box {
   newpath
   moveto
   72 0 rlineto
   0 72 rlineto
   -72 0 rlineto
   closepath
} def

/xcoord 72 def
/ycoord 72 def
/len 72 def

1 1 4 {
	/xcoord pop len mul def
	1 1 4 {
		/ycoord pop len mul def
		gsave                           % Preserve the old coordinates
		  xcoord ycoord translate       % Set origin to (72, 72)
		  0 0 box stroke                % Draw the box at the new origin
		grestore                        % Restore the old coordinates
	} for
} for

showpage